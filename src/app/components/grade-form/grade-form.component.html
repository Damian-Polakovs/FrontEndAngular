<mat-card>
    <mat-card-header>
        <mat-card-title>{{ isEditMode ? 'Edit' : 'Add' }} Grade</mat-card-title>
    </mat-card-header>
    <mat-card-content>
        <form [formGroup]="gradeForm" (ngSubmit)="onSubmit()" class="form-container">
            <mat-form-field appearance="outline">
                <mat-label>Student ID</mat-label>
                <input matInput type="number" formControlName="student_id">
                <mat-error *ngIf="gradeForm.get('student_id')?.errors?.['required']">
                    Student ID is required
                </mat-error>
            </mat-form-field>

            <mat-form-field appearance="outline">
                <mat-label>Class ID</mat-label>
                <input matInput type="number" formControlName="class_id">
                <mat-error *ngIf="gradeForm.get('class_id')?.errors?.['required']">
                    Class ID is required
                </mat-error>
            </mat-form-field>

            <mat-form-field appearance="outline">
                <mat-label>Score</mat-label>
                <input matInput type="number" formControlName="score">
                <mat-error *ngIf="gradeForm.get('score')?.errors?.['required']">
                    Score is required
                </mat-error>
                <mat-error *ngIf="gradeForm.get('score')?.errors?.['min'] || gradeForm.get('score')?.errors?.['max']">
                    Score must be between 0 and 100
                </mat-error>
            </mat-form-field>

            <mat-form-field appearance="outline">
                <mat-label>Type</mat-label>
                <mat-select formControlName="type">
                    <mat-option value="exam">Exam</mat-option>
                    <mat-option value="quiz">Quiz</mat-option>
                    <mat-option value="homework">Homework</mat-option>
                </mat-select>
                <mat-error *ngIf="gradeForm.get('type')?.errors?.['required']">
                    Type is required
                </mat-error>
            </mat-form-field>

            <div class="form-actions">
                <button mat-button type="button" routerLink="/grades">Cancel</button>
                <button mat-raised-button color="primary" type="submit" [disabled]="gradeForm.invalid">
                    {{ isEditMode ? 'Update' : 'Save' }}
                </button>
            </div>
        </form>
    </mat-card-content>
</mat-card>
